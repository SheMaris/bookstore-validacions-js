<html lang="en">
<head>
  <title>Register</title>
  <meta charset="utf-8">
  <link rel="stylesheet" type="text/css" href="bookstore.css">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</head>
<body>

<div class="topnav">
  <a href="#home">Home</a>
  <div class="login-container">
    <form action="/action_page.php" onsubmit="return validate(this);">
      <input type="text" placeholder="Username" name="username" class="inputNav form-control is-invalid d-inline" id="inputEmail" required>
      <input type="password" placeholder="Password" name="psw" class="inputNav form-control is-invalid d-inline" id="inputPass" required>
      <button type="submit">Login</button>
    </form>
  </div>
</div>
<h4 class="text-center mt-3"> Register </h4>
<div class="row m-2">
<div class="col-sm-6 col-md-4 col-lg-4 mt-2 mx-auto">

<form action="/action_page.php" onsubmit="return validate(this);">
  <div class="form-group">
    <label for="uemail">Email:</label>
    <input type="text" class="form-control is-invalid" id="uemail" placeholder="Enter email" name="uemail" required>
    <div class="invalid-feedback">Please fill out this field.</div>
  </div>
  <div class="form-group">
    <label for="pswd">Password:</label>
    <input type="password" class="form-control is-invalid" id="pswd" placeholder="Enter password" name="pswd" required>
    <div class="invalid-feedback"> Must contain 6 to 20 characters with lowercase and at least one number.</div>
  </div>
 <div class="form-group">
    <label for="pswd2">Repeat password:</label>
    <input type="password" class="form-control is-invalid" id="pswd2" placeholder="Repeat password" name="pswd2" required>
    <div class="invalid-feedback">Please fill out this field.</div>
  </div>
  <div class="form-group form-check text-center">
    <label class="form-check-label">
      <input class="form-check-input" type="checkbox" name="remember" required> I agree on TERMS.
      <div class="invalid-feedback">Check this checkbox to continue.</div>
    </label>
  </div>
  <button type="submit" class="btn btn-primary mx-auto d-block">Submit</button>
</form>
  
</div>
</div>

</body>
</html>

<script>

document.getElementById("uemail").addEventListener('keyup', ValidateEmail);
document.getElementById("inputEmail").addEventListener('keyup', ValidateEmail);
function ValidateEmail() {
var input = $(this);
 if (/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(this.value)){
    input.removeClass('is-invalid');
  } else {
    input.addClass('is-invalid');
}
};

document.getElementById("inputPass").addEventListener('keyup', existFunction);
function existFunction(){
var input = $(this);
console.log(this.value.length);
  if(this.value.length < 1){
  input.addClass('is-invalid'); 
} else {
  input.removeClass('is-invalid');
}
};

document.getElementById("pswd").addEventListener('keyup', validatePass);
function validatePass(){
var input = $(this);
console.log(this.value.length);
var passw = /^(?=.*\d)(?=.*[a-z]).{6,20}$/;
if(this.value.match(passw)) { 
input.removeClass('is-invalid');
} else { 
  input.addClass('is-invalid');
}
};

document.getElementById("pswd2").addEventListener('keyup', isSamePassFunction);
function isSamePassFunction(){
var input = $(this);
console.log(this.value.length);
var password_original = document.getElementById("pswd").value;
if (password_original == this.value){
    input.removeClass('is-invalid');
  } else {
    input.addClass('is-invalid');
}

};

function validate(f){
  console.log($(f).find('input').hasClass('is-invalid'));
  if ($(f).find('input').hasClass('is-invalid')){
    console.log('false');
    return false;
  } else {
    return true;
  }
}

</script>